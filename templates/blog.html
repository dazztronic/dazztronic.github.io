{% extends "base.html" %}

{% block title %}{{ section.title }}{% endblock title %}

{% block content %}
<section class="section">
  <div class="container">
    <div class="content">
      <h1 class="title">{{ section.title }}</h1>
      
      {% if section.content %}
      <div class="content">
        {{ section.content | safe }}
      </div>
      {% endif %}
      
      {% if section.pages %}
      <div class="blog-posts-list">
        {% for page in section.pages %}
        <a href="{{ page.path }}" class="blog-post-link">
          <article class="blog-post-item">
            <div class="blog-post-content">
              <h2 class="blog-post-title">{{ page.title }}</h2>
              
              <div class="blog-post-meta">
                <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
                {% if page.taxonomies.authors %}
                • by 
                {% for author in page.taxonomies.authors %}
                  {{ author }}{% if not loop.last %}, {% endif %}
                {% endfor %}
                {% endif %}
                {% if page.reading_time %}
                • {{ page.reading_time }} min read
                {% endif %}
              </div>
              
              <div class="blog-post-body">
                <div class="blog-post-image">
                  {% if page.extra.cover %}
                  <img src="{{ page.extra.cover }}" alt="{{ page.title }}">
                  {% else %}
                  <div class="placeholder-image" style="background: linear-gradient(135deg, var(--corporate-purple-light) 0%, var(--corporate-lime-light) 100%);"></div>
                  {% endif %}
                </div>
                
                <div class="blog-post-text">
                  {% if page.extra.excerpt %}
                  <div class="blog-post-excerpt">
                    {{ page.extra.excerpt }}
                  </div>
                  {% endif %}
                  
                  <div class="blog-post-tags" onclick="event.stopPropagation();">
                    {% if page.taxonomies.categories %}
                    {% for category in page.taxonomies.categories %}
                    <a href="/categories/{{ category | slugify }}/" class="tag is-primary is-light">{{ category }}</a>
                    {% endfor %}
                    {% endif %}
                    
                    {% if page.taxonomies.tags %}
                    {% for tag in page.taxonomies.tags %}
                    <a href="/tags/{{ tag | slugify }}/" class="tag is-info is-light">{{ tag }}</a>
                    {% endfor %}
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </article>
        </a>
        {% endfor %}
      </div>
      {% else %}
      <div class="notification is-info">
        <p>No articles published yet. Check back soon!</p>
      </div>
      {% endif %}
    </div>
  </div>
</section>
{% endblock content %}