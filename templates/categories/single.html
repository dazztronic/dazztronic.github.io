{% extends "base.html" %}

{% block title %}{{ term.name }} - {{ taxonomy.name | title }} - {{ config.title }}{% endblock title %}

{% block content %}
<section class="section">
  <div class="container">
    <div class="content">
      <h1 class="title is-2">{{ term.name }}</h1>
      <p class="subtitle">{{ term.pages | length }} article{{ term.pages | length | pluralize }} in this category</p>
      
      {% if term.pages %}
      <div class="blog-cards">
        {% for page in term.pages %}
        <article class="blog-card">
          {% if page.extra.cover %}
          <img src="{{ page.extra.cover }}" alt="{{ page.title }}" class="blog-card-image">
          {% else %}
          <div class="blog-card-image" style="background: linear-gradient(135deg, var(--corporate-purple-light) 0%, var(--corporate-lime-light) 100%);"></div>
          {% endif %}
          
          <div class="blog-card-content">
            <h2 class="blog-card-title">
              <a href="{{ page.path }}">{{ page.title }}</a>
            </h2>
            
            <div class="blog-card-meta">
              <div>
                <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
                {% if page.taxonomies.authors %}
                â€¢ by 
                {% for author in page.taxonomies.authors %}
                  <a href="/team/{{ author | slugify }}/" class="has-text-weight-semibold" style="color: var(--corporate-purple); text-decoration: none;">{{ author }}</a>{% if not loop.last %}, {% endif %}
                {% endfor %}
                {% endif %}
              </div>
              {% if page.reading_time %}
              <div>{{ page.reading_time }} min read</div>
              {% endif %}
            </div>
            
            {% if page.extra.excerpt %}
            <div class="blog-card-excerpt">
              {{ page.extra.excerpt }}
            </div>
            {% endif %}
            
            <!-- Categories and Tags -->
            <div style="margin-top: 1rem;">
              {% if page.taxonomies.categories %}
              {% for category in page.taxonomies.categories %}
              <a href="/categories/{{ category | slugify }}/" class="tag is-primary is-light" style="text-decoration: none;">{{ category }}</a>
              {% endfor %}
              {% endif %}
              
              {% if page.taxonomies.tags %}
              {% for tag in page.taxonomies.tags %}
              <a href="/tags/{{ tag | slugify }}/" class="tag is-info is-light" style="text-decoration: none;">{{ tag }}</a>
              {% endfor %}
              {% endif %}
            </div>
          </div>
        </article>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </div>
</section>
{% endblock content %}