{% extends "base.html" %}

{% block title %}{{ config.title }}{% endblock title %}

{% block content %}
<section class="section">
  <div class="container">
    
    <div class="content">
      {{ section.content | safe }}
    </div>

    <!-- Recent Articles -->
    {% set blog_section = get_section(path="blog/_index.md") %}
    {% if blog_section.pages %}
    <div class="blog-cards">
      {% for page in blog_section.pages | slice(end=8) %}
      <article class="blog-card">
        {% if page.extra.cover %}
        <img src="{{ page.extra.cover }}" alt="{{ page.title }}" class="blog-card-image">
        {% elif page.extra.hero_image %}
        <img src="{{ page.path }}{{ page.extra.hero_image }}" alt="{{ page.title }}" class="blog-card-image">
        {% else %}
        <div class="blog-card-image" style="background: linear-gradient(135deg, var(--corporate-purple-light) 0%, var(--corporate-lime-light) 100%);"></div>
        {% endif %}
        
        <div class="blog-card-content">
          <h2 class="blog-card-title">
            <a href="{{ page.path }}">{{ page.title }}</a>
          </h2>
          
          <div class="blog-card-meta">
            <div>
              <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
              {% if page.taxonomies.authors %}
              â€¢ by 
              {% for author in page.taxonomies.authors %}
                <a href="/team/{{ author | slugify }}/">{{ author }}</a>{% if not loop.last %}, {% endif %}
              {% endfor %}
              {% endif %}
            </div>
            {% if page.reading_time %}
            <div>{{ page.reading_time }} min read</div>
            {% endif %}
          </div>
          
          {% if page.extra.excerpt %}
          <div class="blog-card-excerpt">
            {{ page.extra.excerpt }}
          </div>
          {% endif %}
          
          <!-- Categories and Tags -->
          <div style="margin-top: 1rem;">
            {% if page.taxonomies.categories %}
            {% for category in page.taxonomies.categories %}
<a href="/categories/{{ category | slugify }}/" class="tag is-primary is-light" style="text-decoration: none;">{{ category }}</a>
            {% endfor %}
            {% endif %}
            
            {% if page.taxonomies.tags %}
            {% for tag in page.taxonomies.tags | slice(end=3) %}
<a href="/tags/{{ tag | slugify }}/" class="tag is-info is-light" style="text-decoration: none;">{{ tag }}</a>
            {% endfor %}
            {% endif %}
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
    
    <div class="has-text-centered mt-5">
      <a href="/blog/" class="button is-primary">
        <span class="icon">
          <i class="fas fa-arrow-right"></i>
        </span>
        <span>View All Articles</span>
      </a>
    </div>
    {% else %}
    <div class="notification" style="background-color: var(--corporate-purple-light); color: var(--corporate-dark); border-left: 4px solid var(--corporate-lime);">
      <p><strong>Welcome to our PHP and Symfony blog!</strong> Articles will be coming soon.</p>
      <p>We'll be sharing insights on modern PHP development, Symfony best practices, and web development tips.</p>
    </div>
    {% endif %}
    
  </div>
</section>
{% endblock content %}